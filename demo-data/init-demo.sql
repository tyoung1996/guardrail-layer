\c guardrail_demo;


-- Drop tables in correct order
DROP TABLE IF EXISTS reviews CASCADE;
DROP TABLE IF EXISTS orders CASCADE;
DROP TABLE IF EXISTS products CASCADE;
DROP TABLE IF EXISTS customers CASCADE;

-- Create tables
CREATE TABLE customers (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(150) NOT NULL,
  city VARCHAR(100),
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE products (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  category VARCHAR(100),
  price DECIMAL(10,2),
  stock INT DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE orders (
  id SERIAL PRIMARY KEY,
  customer_id INT REFERENCES customers(id) ON DELETE CASCADE,
  product_id INT REFERENCES products(id) ON DELETE CASCADE,
  quantity INT NOT NULL,
  amount DECIMAL(10,2) NOT NULL,
  status VARCHAR(50) DEFAULT 'Pending',
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE reviews (
  id SERIAL PRIMARY KEY,
  customer_id INT REFERENCES customers(id) ON DELETE CASCADE,
  product_id INT REFERENCES products(id) ON DELETE CASCADE,
  rating INT CHECK (rating >= 1 AND rating <= 5),
  comment TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Insert customers (30)
INSERT INTO customers (name, email, city, created_at) VALUES
('Alice Johnson', 'alice.johnson@example.com', 'New York', '2023-06-01 10:00:00'),
('Bob Smith', 'bob.smith@example.com', 'Los Angeles', '2023-06-02 11:30:00'),
('Charlie Davis', 'charlie.davis@example.com', 'Chicago', '2023-06-03 09:15:00'),
('Diana Miller', 'diana.miller@example.com', 'Austin', '2023-06-04 14:45:00'),
('Ethan Clark', 'ethan.clark@example.com', 'Denver', '2023-06-05 16:00:00'),
('Fiona Lewis', 'fiona.lewis@example.com', 'Seattle', '2023-06-06 13:20:00'),
('George Hall', 'george.hall@example.com', 'Miami', '2023-06-07 18:10:00'),
('Hannah Young', 'hannah.young@example.com', 'Boston', '2023-06-08 08:30:00'),
('Ian Walker', 'ian.walker@example.com', 'San Francisco', '2023-06-09 12:40:00'),
('Julia King', 'julia.king@example.com', 'Philadelphia', '2023-06-10 10:05:00'),
('Kevin Wright', 'kevin.wright@example.com', 'Dallas', '2023-06-11 09:50:00'),
('Laura Scott', 'laura.scott@example.com', 'Houston', '2023-06-12 17:25:00'),
('Michael Adams', 'michael.adams@example.com', 'Phoenix', '2023-06-13 15:35:00'),
('Nina Baker', 'nina.baker@example.com', 'San Diego', '2023-06-14 19:00:00'),
('Oscar Perez', 'oscar.perez@example.com', 'San Jose', '2023-06-15 11:10:00'),
('Paula Reed', 'paula.reed@example.com', 'Jacksonville', '2023-06-16 13:55:00'),
('Quentin Ross', 'quentin.ross@example.com', 'Indianapolis', '2023-06-17 14:18:00'),
('Rachel Lee', 'rachel.lee@example.com', 'Columbus', '2023-06-18 16:42:00'),
('Samuel Turner', 'samuel.turner@example.com', 'Charlotte', '2023-06-19 17:33:00'),
('Tina Morgan', 'tina.morgan@example.com', 'Fort Worth', '2023-06-20 13:13:00'),
('Umar Patel', 'umar.patel@example.com', 'San Antonio', '2023-06-21 15:22:00'),
('Vera Kim', 'vera.kim@example.com', 'Detroit', '2023-06-22 11:11:00'),
('William Price', 'william.price@example.com', 'El Paso', '2023-06-23 16:44:00'),
('Xena Cox', 'xena.cox@example.com', 'Nashville', '2023-06-24 18:17:00'),
('Yusuf Evans', 'yusuf.evans@example.com', 'Oklahoma City', '2023-06-25 09:09:00'),
('Zara Brooks', 'zara.brooks@example.com', 'Las Vegas', '2023-06-26 10:29:00'),
('Amy Foster', 'amy.foster@example.com', 'Louisville', '2023-06-27 12:58:00'),
('Brian Gray', 'brian.gray@example.com', 'Baltimore', '2023-06-28 14:02:00'),
('Cynthia Hughes', 'cynthia.hughes@example.com', 'Milwaukee', '2023-06-29 16:36:00'),
('Derek Long', 'derek.long@example.com', 'Albuquerque', '2023-06-30 13:45:00');

-- Insert products (15)
INSERT INTO products (name, category, price, stock, created_at) VALUES
('Wireless Keyboard', 'Electronics', 49.99, 120, '2023-06-01 08:00:00'),
('Noise Cancelling Headphones', 'Electronics', 149.99, 75, '2023-06-01 08:05:00'),
('Standing Desk', 'Furniture', 299.99, 30, '2023-06-01 08:10:00'),
('LED Desk Lamp', 'Home Office', 29.99, 200, '2023-06-01 08:15:00'),
('Ergonomic Chair', 'Furniture', 199.99, 45, '2023-06-01 08:20:00'),
('4K Monitor', 'Electronics', 399.99, 50, '2023-06-01 08:25:00'),
('USB-C Docking Station', 'Accessories', 89.99, 90, '2023-06-01 08:30:00'),
('Bluetooth Mouse', 'Electronics', 34.99, 110, '2023-06-01 08:35:00'),
('Webcam 1080p', 'Electronics', 59.99, 80, '2023-06-01 08:40:00'),
('Whiteboard', 'Office Supplies', 79.99, 60, '2023-06-01 08:45:00'),
('Desk Organizer', 'Home Office', 19.99, 150, '2023-06-01 08:50:00'),
('Portable SSD 1TB', 'Electronics', 129.99, 70, '2023-06-01 08:55:00'),
('Smart Speaker', 'Electronics', 99.99, 65, '2023-06-01 09:00:00'),
('Office Plant', 'Decor', 14.99, 120, '2023-06-01 09:05:00'),
('Task Chair', 'Furniture', 159.99, 35, '2023-06-01 09:10:00');

-- Insert orders (100)
INSERT INTO orders (customer_id, product_id, quantity, amount, status, created_at) VALUES
(1, 2, 1, 149.99, 'Shipped', '2023-07-01 10:01:00'),
(2, 3, 1, 299.99, 'Processing', '2023-07-01 10:05:00'),
(3, 1, 2, 99.98, 'Delivered', '2023-07-01 10:12:00'),
(4, 5, 1, 199.99, 'Pending', '2023-07-01 10:20:00'),
(5, 4, 3, 89.97, 'Delivered', '2023-07-01 10:27:00'),
(6, 6, 1, 399.99, 'Shipped', '2023-07-01 10:32:00'),
(7, 7, 2, 179.98, 'Delivered', '2023-07-01 10:36:00'),
(8, 8, 1, 34.99, 'Processing', '2023-07-01 10:40:00'),
(9, 9, 1, 59.99, 'Cancelled', '2023-07-01 10:45:00'),
(10, 10, 1, 79.99, 'Delivered', '2023-07-01 10:48:00'),
(11, 11, 2, 39.98, 'Shipped', '2023-07-01 10:53:00'),
(12, 12, 1, 129.99, 'Pending', '2023-07-01 10:56:00'),
(13, 13, 1, 99.99, 'Processing', '2023-07-01 11:00:00'),
(14, 14, 2, 29.98, 'Delivered', '2023-07-01 11:05:00'),
(15, 15, 1, 159.99, 'Shipped', '2023-07-01 11:10:00'),
(16, 1, 1, 49.99, 'Delivered', '2023-07-01 11:15:00'),
(17, 2, 1, 149.99, 'Cancelled', '2023-07-01 11:20:00'),
(18, 3, 1, 299.99, 'Processing', '2023-07-01 11:25:00'),
(19, 4, 1, 29.99, 'Pending', '2023-07-01 11:30:00'),
(20, 5, 2, 399.98, 'Delivered', '2023-07-01 11:35:00'),
(21, 6, 1, 399.99, 'Processing', '2023-07-01 11:40:00'),
(22, 7, 1, 89.99, 'Shipped', '2023-07-01 11:45:00'),
(23, 8, 2, 69.98, 'Delivered', '2023-07-01 11:50:00'),
(24, 9, 1, 59.99, 'Processing', '2023-07-01 11:55:00'),
(25, 10, 1, 79.99, 'Delivered', '2023-07-01 12:00:00'),
(26, 11, 3, 59.97, 'Shipped', '2023-07-01 12:05:00'),
(27, 12, 1, 129.99, 'Delivered', '2023-07-01 12:10:00'),
(28, 13, 1, 99.99, 'Pending', '2023-07-01 12:15:00'),
(29, 14, 1, 14.99, 'Processing', '2023-07-01 12:20:00'),
(30, 15, 2, 319.98, 'Delivered', '2023-07-01 12:25:00'),
(1, 6, 1, 399.99, 'Shipped', '2023-07-02 09:00:00'),
(2, 7, 2, 179.98, 'Delivered', '2023-07-02 09:10:00'),
(3, 8, 1, 34.99, 'Processing', '2023-07-02 09:20:00'),
(4, 9, 1, 59.99, 'Delivered', '2023-07-02 09:30:00'),
(5, 10, 1, 79.99, 'Pending', '2023-07-02 09:40:00'),
(6, 11, 1, 19.99, 'Shipped', '2023-07-02 09:50:00'),
(7, 12, 2, 259.98, 'Delivered', '2023-07-02 10:00:00'),
(8, 13, 1, 99.99, 'Processing', '2023-07-02 10:10:00'),
(9, 14, 1, 14.99, 'Cancelled', '2023-07-02 10:20:00'),
(10, 15, 1, 159.99, 'Delivered', '2023-07-02 10:30:00'),
(11, 1, 1, 49.99, 'Processing', '2023-07-02 10:40:00'),
(12, 2, 1, 149.99, 'Delivered', '2023-07-02 10:50:00'),
(13, 3, 1, 299.99, 'Pending', '2023-07-02 11:00:00'),
(14, 4, 1, 29.99, 'Shipped', '2023-07-02 11:10:00'),
(15, 5, 1, 199.99, 'Delivered', '2023-07-02 11:20:00'),
(16, 6, 2, 799.98, 'Processing', '2023-07-02 11:30:00'),
(17, 7, 1, 89.99, 'Pending', '2023-07-02 11:40:00'),
(18, 8, 1, 34.99, 'Delivered', '2023-07-02 11:50:00'),
(19, 9, 1, 59.99, 'Processing', '2023-07-02 12:00:00'),
(20, 10, 2, 159.98, 'Shipped', '2023-07-02 12:10:00'),
(21, 11, 1, 19.99, 'Delivered', '2023-07-02 12:20:00'),
(22, 12, 1, 129.99, 'Pending', '2023-07-02 12:30:00'),
(23, 13, 2, 199.98, 'Shipped', '2023-07-02 12:40:00'),
(24, 14, 1, 14.99, 'Delivered', '2023-07-02 12:50:00'),
(25, 15, 1, 159.99, 'Processing', '2023-07-02 13:00:00'),
(26, 1, 2, 99.98, 'Delivered', '2023-07-02 13:10:00'),
(27, 2, 1, 149.99, 'Pending', '2023-07-02 13:20:00'),
(28, 3, 1, 299.99, 'Processing', '2023-07-02 13:30:00'),
(29, 4, 1, 29.99, 'Delivered', '2023-07-02 13:40:00'),
(30, 5, 1, 199.99, 'Shipped', '2023-07-02 13:50:00'),
(1, 7, 1, 89.99, 'Delivered', '2023-07-03 09:00:00'),
(2, 8, 1, 34.99, 'Processing', '2023-07-03 09:10:00'),
(3, 9, 1, 59.99, 'Pending', '2023-07-03 09:20:00'),
(4, 10, 1, 79.99, 'Delivered', '2023-07-03 09:30:00'),
(5, 11, 1, 19.99, 'Processing', '2023-07-03 09:40:00'),
(6, 12, 1, 129.99, 'Delivered', '2023-07-03 09:50:00'),
(7, 13, 1, 99.99, 'Pending', '2023-07-03 10:00:00'),
(8, 14, 1, 14.99, 'Shipped', '2023-07-03 10:10:00'),
(9, 15, 1, 159.99, 'Delivered', '2023-07-03 10:20:00'),
(10, 1, 2, 99.98, 'Processing', '2023-07-03 10:30:00'),
(11, 2, 1, 149.99, 'Delivered', '2023-07-03 10:40:00'),
(12, 3, 1, 299.99, 'Pending', '2023-07-03 10:50:00'),
(13, 4, 1, 29.99, 'Delivered', '2023-07-03 11:00:00'),
(14, 5, 1, 199.99, 'Shipped', '2023-07-03 11:10:00'),
(15, 6, 1, 399.99, 'Delivered', '2023-07-03 11:20:00'),
(16, 7, 1, 89.99, 'Pending', '2023-07-03 11:30:00'),
(17, 8, 1, 34.99, 'Processing', '2023-07-03 11:40:00'),
(18, 9, 1, 59.99, 'Delivered', '2023-07-03 11:50:00'),
(19, 10, 1, 79.99, 'Processing', '2023-07-03 12:00:00'),
(20, 11, 2, 39.98, 'Pending', '2023-07-03 12:10:00'),
(21, 12, 1, 129.99, 'Delivered', '2023-07-03 12:20:00'),
(22, 13, 1, 99.99, 'Shipped', '2023-07-03 12:30:00'),
(23, 14, 1, 14.99, 'Delivered', '2023-07-03 12:40:00'),
(24, 15, 1, 159.99, 'Processing', '2023-07-03 12:50:00'),
(25, 1, 1, 49.99, 'Delivered', '2023-07-03 13:00:00'),
(26, 2, 2, 299.98, 'Pending', '2023-07-03 13:10:00'),
(27, 3, 1, 299.99, 'Processing', '2023-07-03 13:20:00'),
(28, 4, 1, 29.99, 'Delivered', '2023-07-03 13:30:00'),
(29, 5, 1, 199.99, 'Shipped', '2023-07-03 13:40:00'),
(30, 6, 1, 399.99, 'Delivered', '2023-07-03 13:50:00');

-- Insert reviews (60)
INSERT INTO reviews (customer_id, product_id, rating, comment, created_at) VALUES
(1, 2, 5, 'Amazing sound quality!', '2023-07-04 10:00:00'),
(2, 3, 4, 'Very sturdy and well built.', '2023-07-04 10:01:00'),
(3, 1, 5, 'Smooth typing experience.', '2023-07-04 10:02:00'),
(4, 5, 3, 'Comfortable but a bit pricey.', '2023-07-04 10:03:00'),
(5, 4, 4, 'Bright and useful for late work.', '2023-07-04 10:04:00'),
(6, 6, 5, 'Great resolution and color.', '2023-07-04 10:05:00'),
(7, 7, 2, 'Works well with my laptop.', '2023-07-04 10:06:00'),
(8, 8, 5, 'Very responsive, love it!', '2023-07-04 10:07:00'),
(9, 9, 4, 'Clear video, easy setup.', '2023-07-04 10:08:00'),
(10, 10, 3, 'Good for office, but heavy.', '2023-07-04 10:09:00'),
(11, 11, 5, 'Keeps my desk organized.', '2023-07-04 10:10:00'),
(12, 12, 4, 'Fast and portable.', '2023-07-04 10:11:00'),
(13, 13, 4, 'Smart features are handy.', '2023-07-04 10:12:00'),
(14, 14, 5, 'Cute plant, brightens my space.', '2023-07-04 10:13:00'),
(15, 15, 4, 'Nice chair for the price.', '2023-07-04 10:14:00'),
(16, 1, 5, 'Love the keyboard feel.', '2023-07-04 10:15:00'),
(17, 2, 4, 'Headphones are comfy.', '2023-07-04 10:16:00'),
(18, 3, 5, 'Desk is just the right height.', '2023-07-04 10:17:00'),
(19, 4, 4, 'Lamp has adjustable brightness.', '2023-07-04 10:18:00'),
(20, 5, 3, 'Chair armrest could be better.', '2023-07-04 10:19:00'),
(21, 6, 5, 'Monitor is sharp and clear.', '2023-07-04 10:20:00'),
(22, 7, 4, 'Docking station works well.', '2023-07-04 10:21:00'),
(23, 8, 5, 'Mouse is very ergonomic.', '2023-07-04 10:22:00'),
(24, 9, 4, 'Webcam is plug-and-play.', '2023-07-04 10:23:00'),
(25, 10, 3, 'Whiteboard stains a little.', '2023-07-04 10:24:00'),
(26, 11, 5, 'Organizer fits everything.', '2023-07-04 10:25:00'),
(27, 12, 4, 'SSD is super fast.', '2023-07-04 10:26:00'),
(28, 13, 4, 'Speaker is loud and clear.', '2023-07-04 10:27:00'),
(29, 14, 5, 'Plant arrived healthy.', '2023-07-04 10:28:00'),
(30, 15, 4, 'Chair is supportive.', '2023-07-04 10:29:00'),
(1, 3, 5, 'Love my new standing desk!', '2023-07-05 10:00:00'),
(2, 5, 3, 'Chair is okay, not great.', '2023-07-05 10:01:00'),
(3, 7, 4, 'Docking station is useful.', '2023-07-05 10:02:00'),
(4, 9, 5, 'Webcam quality is excellent.', '2023-07-05 10:03:00'),
(5, 11, 4, 'Organizer is helpful.', '2023-07-05 10:04:00'),
(6, 13, 5, 'Smart speaker is awesome.', '2023-07-05 10:05:00'),
(7, 15, 4, 'Chair is comfortable.', '2023-07-05 10:06:00'),
(8, 2, 5, 'Headphones block noise well.', '2023-07-05 10:07:00'),
(9, 4, 4, 'Lamp is bright.', '2023-07-05 10:08:00'),
(10, 6, 5, 'Monitor is crystal clear.', '2023-07-05 10:09:00'),
(11, 8, 4, 'Mouse is smooth.', '2023-07-05 10:10:00'),
(12, 10, 3, 'Whiteboard is a bit small.', '2023-07-05 10:11:00'),
(13, 12, 5, 'SSD is lightning fast.', '2023-07-05 10:12:00'),
(14, 14, 4, 'Plant is easy to care for.', '2023-07-05 10:13:00'),
(15, 1, 5, 'Keyboard is perfect.', '2023-07-05 10:14:00'),
(16, 5, 4, 'Chair is sturdy.', '2023-07-05 10:15:00'),
(17, 9, 5, 'Webcam works great.', '2023-07-05 10:16:00'),
(18, 13, 4, 'Speaker has good bass.', '2023-07-05 10:17:00'),
(19, 2, 5, 'Headphones are the best.', '2023-07-05 10:18:00'),
(20, 6, 4, 'Monitor is large and sharp.', '2023-07-05 10:19:00'),
(21, 8, 4, 'Mouse fits hand well.', '2023-07-05 10:20:00'),
(22, 10, 3, 'Whiteboard is useful.', '2023-07-05 10:21:00'),
(23, 12, 5, 'SSD is compact.', '2023-07-05 10:22:00'),
(24, 14, 5, 'Plant is lovely.', '2023-07-05 10:23:00'),
(25, 3, 4, 'Desk is stable.', '2023-07-05 10:24:00'),
(26, 7, 5, 'Docking station is reliable.', '2023-07-05 10:25:00'),
(27, 11, 4, 'Organizer is neat.', '2023-07-05 10:26:00'),
(28, 15, 5, 'Chair exceeded expectations.', '2023-07-05 10:27:00'),
(29, 1, 5, 'Keyboard is very quiet.', '2023-07-05 10:28:00'),
(30, 5, 4, 'Ergonomic chair helps my back.', '2023-07-05 10:29:00');

-- Confirm initialization
SELECT '✅ Demo data initialized successfully for guardrail_demo' AS message;
